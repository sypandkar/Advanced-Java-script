<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced JS -Fetch API</title>
</head>
<body>
    <h1>Fetch - API</h1>

    <script>
        /*
        fetch("content/readme.txt")
        .then((response)=>{
        //   console.log(response.text());
        return response.text();
        })
       .then((data)=>{
           // console.log(data);
           document.write(data);
        });
        */
        
        //above is the single line arrow function so that we can write it in short
        /*
        fetch("content/readme.txt")
        .then((response) => response.text())
        .then((data) => document.write(data));
        */



        //now we are fetching data from fake json data (sonplaceholder.typicode.com) 
        //by this data will be fetched from that API
        /*
        fetch("https://jsonplaceholder.typicode.com/users")
        .then((response) => response.json())
        .then((data) => console.log(data))
        .catch((error) => console.log(error));
        */
         
        /*
        // FOR CATCHING ERRORS We use .catch() method
        fetch("https://jsonpelacholder.typicode.com/users")    
        .then((response) => response.json())
        .then((data) => console.log(data1))                    // we typed data1 for seeing error 
        // .catch((error) => console.log(error));
        .catch((error) => document.write("can't fetch data"));   // this message will be printd on browser screen.
        */


        /*
        //========== HOW TO PRINT FETCHED DATA {OBJECT} in html.. ========= //
        fetch("https://jsonplaceholder.typicode.com/users")
        .then((response) => response.json())
        .then((data) => {
            console.log(data);


            for (var x in data){                  //we used for in loop to print object in html
            //    document.write(x);              // with x we get only key value i.e.  0123456789
            // document.write(data[x]);           //here we get output like [object Object][object Object] we did not get the values like name address we we have to write the value name.
            
            var a = `${data[x].name}  - ${data[x].email} - ${data[x].address.city} <br> `;   //created variable a & stored data in it
            document.write(a);                                                               //now we wiil get O/P. with name,email & adderes

            }                     
        })
        .catch((error) => console.log(error));
        */


        // ============== FETCHING LOCAL JSON FILE =============== //
        fetch("JSON/student_data.json")
        .then((response) => response.json())
        .then((data) => {
            console.log(data);
            // for (var x in data){ 
            //     var a = `${data[x].name}  - ${data[x].age} - ${data[x].city} <br> `; 
            //     document.write(a); 
            // }                     
        })
        .catch((error) => console.log(error));
    </script>
</body>
</html>